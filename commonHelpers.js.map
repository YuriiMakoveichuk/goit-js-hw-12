{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from 'axios';\n\nlet newPage = 1;\n\nconst axios = Axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '44363608-aeb5e859d1804b8d255aa00c3',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n  },\n});\n\nexport async function userRequest(userSearch) {\n  try {\n    const res = await axios.get('', {\n      params: { q: userSearch },\n    });\n    console.log(res);\n    return res.data;\n  } catch (err) {\n    console.log('server error', err);\n  }\n}\n","function galleryTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return ` <li class=\"album-item\">\n            <a class=\"album-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"album-img\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n            <ul class=\"statistics-list\">\n              <li class=\"statistics-item text-marg-1\">\n                <p class=\"statistics-text\">Likes</p>\n                <p>${likes}</p>\n              </li>\n              <li class=\"statistics-item text-marg-2\">\n                <p class=\"statistics-text\">Views</p>\n                <p>${views}</p>\n              </li>\n              <li class=\"statistics-item text-marg-3\">\n                <p class=\"statistics-text\">Comments</p>\n                <p>${comments}</p>\n              </li>\n              <li class=\"statistics-item\">\n                <p class=\"statistics-text\">Downloads</p>\n                <p>${downloads}</p>\n              </li>\n            </ul>\n            </a>\n          </li>`;\n}\nexport function galleriesTemplate(arr) {\n  return arr.map(galleryTemplate).join('\\n');\n}\n","import { userRequest } from './js/pixabay-api.js';\nimport { galleriesTemplate } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.js-form');\nconst ulElem = document.querySelector('.js-album-list');\nconst loader = document.querySelector('.js-loader');\nconst btnElem = document.querySelector('.js-form-btn');\nconst album = new SimpleLightbox('.album-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst request = searchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  ulElem.innerHTML = '';\n  const userSearch = e.target.elements.text.value.trim();\n  if (userSearch !== '') {\n    showLoader();\n    try {\n      const data = await userRequest(userSearch);\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 2000,\n        });\n      } else {\n        ulElem.innerHTML = galleriesTemplate(data.hits);\n        album.refresh();\n        showLoadMore();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    hideLoader();\n  }\n\n  searchForm.reset();\n});\n\nbtnElem.addEventListener('click', async () => {\n  console.log('hello');\n});\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nfunction showLoadMore() {\n  btnElem.classList.remove('btn-hidden');\n}\n\nfunction hideLoadMore() {\n  btnElem.classList.add('btn-hidden');\n}\n"],"names":["axios","Axios","userRequest","userSearch","res","err","galleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleriesTemplate","arr","searchForm","ulElem","loader","btnElem","album","SimpleLightbox","e","showLoader","data","iziToast","showLoadMore","hideLoader"],"mappings":"owBAIA,MAAMA,EAAQC,EAAM,OAAO,CACzB,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACH,CAAC,EAEM,eAAeC,EAAYC,EAAY,CAC5C,GAAI,CACF,MAAMC,EAAM,MAAMJ,EAAM,IAAI,GAAI,CAC9B,OAAQ,CAAE,EAAGG,CAAY,CAC/B,CAAK,EACD,eAAQ,IAAIC,CAAG,EACRA,EAAI,IACZ,OAAQC,EAAK,CACZ,QAAQ,IAAI,eAAgBA,CAAG,CAChC,CACH,CCzBA,SAASC,EAAgB,CACvB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,0CACiCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKJC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAK9B,CACO,SAASC,EAAkBC,EAAK,CACrC,OAAOA,EAAI,IAAIT,CAAe,EAAE,KAAK;AAAA,CAAI,CAC3C,CC/BA,MAAMU,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAQ,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEeL,EAAW,iBAAiB,SAAU,MAAMM,GAAK,CAC/DA,EAAE,eAAc,EAChBL,EAAO,UAAY,GACnB,MAAMd,EAAamB,EAAE,OAAO,SAAS,KAAK,MAAM,OAChD,GAAInB,IAAe,GAAI,CACrBoB,IACA,GAAI,CACF,MAAMC,EAAO,MAAMtB,EAAYC,CAAU,EACrCqB,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,GACnB,CAAS,GAEDR,EAAO,UAAYH,EAAkBU,EAAK,IAAI,EAC9CJ,EAAM,QAAO,EACbM,IAEH,OAAQrB,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACDsB,GACD,CAEDX,EAAW,MAAK,CAClB,CAAC,EAEDG,EAAQ,iBAAiB,QAAS,SAAY,CAC5C,QAAQ,IAAI,OAAO,CACrB,CAAC,EAED,SAASI,GAAa,CACpBL,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASS,GAAa,CACpBT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,SAASQ,GAAe,CACtBP,EAAQ,UAAU,OAAO,YAAY,CACvC"}