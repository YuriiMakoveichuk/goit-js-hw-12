{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function userRequest(userSearch) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const param = new URLSearchParams({\n    key: '44363608-aeb5e859d1804b8d255aa00c3',\n    q: `${userSearch}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${param}`;\n  return fetch(url)\n    .then(res => res.json())\n    .catch(err => {\n      console.log(err);\n    });\n}\n","function galleryTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return ` <li class=\"album-item\">\n            <a class=\"album-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"album-img\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n            <ul class=\"statistics-list\">\n              <li class=\"statistics-item text-marg-1\">\n                <p class=\"statistics-text\">Likes</p>\n                <p>${likes}</p>\n              </li>\n              <li class=\"statistics-item text-marg-2\">\n                <p class=\"statistics-text\">Views</p>\n                <p>${views}</p>\n              </li>\n              <li class=\"statistics-item text-marg-3\">\n                <p class=\"statistics-text\">Comments</p>\n                <p>${comments}</p>\n              </li>\n              <li class=\"statistics-item\">\n                <p class=\"statistics-text\">Downloads</p>\n                <p>${downloads}</p>\n              </li>\n            </ul>\n            </a>\n          </li>`;\n}\nexport function galleriesTemplate(arr) {\n  return arr.map(galleryTemplate).join('\\n');\n}\n","import { userRequest } from './js/pixabay-api.js';\nimport { galleriesTemplate } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.js-form');\nconst ulElem = document.querySelector('.js-album-list');\nconst loader = document.querySelector('.js-loader');\nconst album = new SimpleLightbox('.album-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst request = searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  ulElem.innerHTML = '';\n  const userSearch = e.target.elements.text.value.trim();\n  if (userSearch !== '') {\n    showLoader();\n    userRequest(userSearch)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            timeout: 2000,\n          });\n        } else {\n          ulElem.innerHTML = galleriesTemplate(data.hits);\n          album.refresh();\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n\n  searchForm.reset();\n});\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n"],"names":["userRequest","userSearch","BASE_URL","END_POINT","param","url","res","err","galleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleriesTemplate","arr","searchForm","ulElem","loader","album","SimpleLightbox","e","showLoader","data","iziToast","hideLoader"],"mappings":"6vBAAO,SAASA,EAAYC,EAAY,CACtC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAQ,IAAI,gBAAgB,CAChC,IAAK,qCACL,EAAG,GAAGH,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAK,GAC5C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CChBA,SAASC,EAAgB,CACvB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,0CACiCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKJC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAK9B,CACO,SAASC,EAAkBC,EAAK,CACrC,OAAOA,EAAI,IAAIT,CAAe,EAAE,KAAK;AAAA,CAAI,CAC3C,CC/BA,MAAMU,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAQ,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEeJ,EAAW,iBAAiB,SAAUK,GAAK,CACzDA,EAAE,eAAc,EAChBJ,EAAO,UAAY,GACnB,MAAMlB,EAAasB,EAAE,OAAO,SAAS,KAAK,MAAM,OAC5CtB,IAAe,KACjBuB,IACAxB,EAAYC,CAAU,EACnB,KAAKwB,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,GACrB,CAAW,GAEDP,EAAO,UAAYH,EAAkBS,EAAK,IAAI,EAC9CJ,EAAM,QAAO,EAEvB,CAAO,EACA,MAAMd,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,EACA,QAAQ,IAAM,CACboB,GACR,CAAO,GAGLT,EAAW,MAAK,CAClB,CAAC,EACD,SAASM,GAAa,CACpBJ,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASO,GAAa,CACpBP,EAAO,UAAU,IAAI,QAAQ,CAC/B"}